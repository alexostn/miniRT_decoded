–û—Ç–ª–∏—á–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã ‚Äî —Ç—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—à—å –∫ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –æ—Å–º—ã—Å–ª–µ–Ω–Ω–æ. –î–∞–≤–∞–π —Ä–∞–∑–ª–æ–∂–∏–º —ç—Ç–æ –ø–æ –ø—É–Ω–∫—Ç–∞–º –∏ –æ–ø—Ä–µ–¥–µ–ª–∏–º, –∫–∞–∫ –ª—É—á—à–µ –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å:

üîπ 1‚Äì3. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ü–≤–µ—Ç–∞: Tuple vs Color vs ARGB

–í –Ω–∞—á–∞–ª–µ, —Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª tuple (x, y, z, w) –∫–∞–∫ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Ç–∏–ø –∏ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–ª –µ–≥–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–æ RGBA —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ:

(x, y, z, w) ‚Üí (r, g, b, a)

–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —É–¥–æ–±–Ω–æ, –∫–æ–≥–¥–∞ –≤—Å—è –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Å–≤–µ—â–µ–Ω–∏–µ, —Å–º–µ—à–∏–≤–∞–Ω–∏–µ, –æ—Ç—Ä–∞–∂–µ–Ω–∏—è) –¥–µ–ª–∞–µ—Ç—Å—è –≤ double-—Ñ–æ—Ä–º–∞—Ç–µ –æ—Ç 0.0 –¥–æ 1.0. –¢–∞–∫—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –º–æ–∂–Ω–æ –Ω–∞–∑—ã–≤–∞—Ç—å t_color –∏ —Ö—Ä–∞–Ω–∏—Ç—å —Ç–∞–º –∑–Ω–∞—á–µ–Ω–∏—è –∫–∞–∫ double.

‚ö†Ô∏è –ù–æ: —Ñ–æ—Ä–º–∞—Ç —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ø–∞–º—è—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ minilibx) –∏ —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π ‚Äî —ç—Ç–æ —Ä–∞–∑–Ω—ã–µ —É—Ä–æ–≤–Ω–∏. –ú—ã –Ω–µ –æ–±—è–∑–∞–Ω—ã –º–µ–Ω—è—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–æ–ª—å–∫–æ –ø–æ—Ç–æ–º—É, —á—Ç–æ —Ñ–æ—Ä–º–∞—Ç ARGB —Ä–∞—Å–ø–æ–ª–∞–≥–∞–µ—Ç –±–∞–π—Ç—ã –∏–Ω–∞—á–µ.

–ü–æ—ç—Ç–æ–º—É:
‚úÖ –í—ã–≤–æ–¥:

–ò—Å–ø–æ–ª—å–∑—É–µ–º t_color { r, g, b, a } –∫–∞–∫ double-—Å—Ç—Ä—É–∫—Ç—É—Ä—É (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç).

–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –µ—ë –≤ uint32_t —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–¥ –∑–∞–ø–∏—Å—å—é –≤ –±—É—Ñ–µ—Ä –∏–ª–∏ –≤—ã–≤–æ–¥–æ–º (—á–µ—Ä–µ–∑ color_to_rgba).

–ù–µ —Å—Ç–æ–∏—Ç –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–æ–¥ minilibx-–ø–æ—Ä—è–¥–æ–∫ –±–∞–π—Ç–æ–≤. –≠—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–æ.

üîπ 4. –ù—É–∂–Ω–æ –ª–∏ –∑–∞–Ω–∏–º–∞—Ç—å—Å—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–µ–π –∏–ª–∏ –º–æ–∂–Ω–æ –æ—Å—Ç–∞—Ç—å—Å—è –≤ int?

–í–æ—Ç –∫—Ä–∏—Ç–µ—Ä–∏–∏:

–¶–µ–ª—å	–õ—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
–ì–∏–±–∫–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Ü–≤–µ—Ç–∞	double t_color / tuple
–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ—Å–≤–µ—â–µ–Ω–∏—è, —ç—Ñ—Ñ–µ–∫—Ç–æ–≤, —Å–º–µ—à–∏–≤–∞–Ω–∏—è	double –∑–Ω–∞—á–µ–Ω–∏—è –æ—Ç 0.0 –¥–æ 1.0
–ë—ã—Å—Ç—Ä—ã–π –≤—ã–≤–æ–¥ –Ω–∞ —ç–∫—Ä–∞–Ω	uint32_t (rgba / argb)

‚úÖ –í—ã–≤–æ–¥:

–ò—Å–ø–æ–ª—å–∑—É–π double-—Å—Ç—Ä—É–∫—Ç—É—Ä—É (t_color) –Ω–∞ –≤—Å–µ–º —ç—Ç–∞–ø–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π.

–ü—Ä–µ–æ–±—Ä–∞–∑—É–π –≤ uint32_t —Ç–æ–ª—å–∫–æ –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–µ: –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ –ø–∏–∫—Å–µ–ª—è –∏–ª–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.

–≠—Ç–æ –¥–∞–µ—Ç –≥–∏–±–∫–æ—Å—Ç—å –∏ —á–∏—Å—Ç—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É.

üîπ 5. –°—Ç–æ–∏—Ç –ª–∏ –≤–æ–æ–±—â–µ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ int –∏ –æ—Ç–±—Ä–æ—Å–∏—Ç—å double?

‚õîÔ∏è –≠—Ç–æ –ø–ª–æ—Ö–∞—è –∏–¥–µ—è, –µ—Å–ª–∏ —Ç—ã –ø–ª–∞–Ω–∏—Ä—É–µ—à—å —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å:

—Å–≤–µ—Ç/—Ç–µ–Ω–∏

–æ—Ç—Ä–∞–∂–µ–Ω–∏—è

—Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ

–ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –∏ –∞–ª—å—Ñ–∞-–∫–æ–º–ø–æ–∑–∏—Ü–∏—é

–≥–∞–º–º—É –∏ —Ç.–¥.

üå± –¢–æ–≥–¥–∞ —Ç–µ–±–µ –±—ã—Å—Ç—Ä–æ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π.

‚úÖ –í—ã–≤–æ–¥:
–û—Å—Ç–∞–≤—å —Ü–≤–µ—Ç –∫–∞–∫ double –≤–Ω—É—Ç—Ä–∏. –ü—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤ MLX –∏–ª–∏ PPM –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–π –≤ int.

üîπ 6. –§—É–Ω–∫—Ü–∏–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ ‚Äî –æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ –±—É–¥—É—â–µ–µ?

–î–∞! –¢–≤–æ—è –∏–¥–µ—è:

–•—Ä–∞–Ω–∏—Ç—å —Ü–≤–µ—Ç –≤ t_color (double r,g,b,a)

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ color_to_rgba / color_from_rgba

–≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ. –ú–æ–∂–Ω–æ –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å:

color_to_ppm_string

color_to_hex_string

blend_colors(t_color a, t_color b)

clamp_color

gamma_correct(color, gamma)

üìå –§–∏–Ω–∞–ª—å–Ω—ã–π —Å–æ–≤–µ—Ç:

–û—Å—Ç–∞–≤—å —Ç–∞–∫—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É:

t_color (double r, g, b, a) –¥–ª—è –≤—Å–µ—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π

–ü–∏—à–∏ –≤—Å—é —Ñ–∏–∑–∏–∫—É (–æ—Å–≤–µ—â–µ–Ω–∏–µ –∏ —Ç.–¥.) –≤ double

–ò—Å–ø–æ–ª—å–∑—É–π —Ñ—É–Ω–∫—Ü–∏–∏ –≤–∏–¥–∞ color_to_rgba() –¥–ª—è –≤—ã–≤–æ–¥–∞

–î–µ–ª–∞–π –≤—ã–≤–æ–¥ —Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ (write_pixel)

‚õ≥Ô∏è –¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ —Å–æ—Ö—Ä–∞–Ω–∏—Ç —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å, –º–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ—Ç –±–∞–≥–∏ –∏ –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è –≤ –±—É–¥—É—â–µ–º (HDR, transparency, export).

 t_color.h –∏ color_utils.c
