Ожидаемый результат упражнения:

Нормализация скорости:

Исходный вектор скорости: vector(1, 1, 0).

Длина вектора: 
1
2
+
1
2
=
2
≈
1.414
1 
2
 +1 
2
 
 = 
2
 ≈1.414.

После нормализации: 
velocity
=
(
1
2
,
1
2
,
0
)
≈
(
0.707
,
0.707
,
0
)
velocity=( 
2
 
1
 , 
2
 
1
 ,0)≈(0.707,0.707,0).

Параметры среды:

Гравитация: vector(0, -0.1, 0) (тянет вниз по оси Y).

Ветер: vector(-0.01, 0, 0) (дует влево по оси X).

Первый тик (пример расчета):

Новая позиция:
(
0
,
1
,
0
)
+
(
0.707
,
0.707
,
0
)
=
(
0.707
,
1.707
,
0
)
(0,1,0)+(0.707,0.707,0)=(0.707,1.707,0).

Новая скорость:
(
0.707
,
0.707
,
0
)
+
(
0
,
−
0.1
,
0
)
+
(
−
0.01
,
0
,
0
)
=
(
0.697
,
0.607
,
0
)
(0.707,0.707,0)+(0,−0.1,0)+(−0.01,0,0)=(0.697,0.607,0).

Динамика движения:

С каждым тиком Y-компонента скорости уменьшается из-за гравитации.

X-компонента скорости медленно снижается из-за ветра.

Снаряд движется по параболе, смещаясь влево.

Пример траектории (первые 3 тика):

Тик	Позиция (x, y)	Скорость (x, y)
0	(0.000, 1.000)	(0.707, 0.707)
1	(0.707, 1.707)	(0.697, 0.607)
2	(1.404, 2.314)	(0.687, 0.507)
3	(2.091, 2.821)	(0.677, 0.407)
Когда снаряд упадет (Y ≤ 0)?
Для приведенных параметров снаряд достигнет земли примерно через 17 тиков.

///PROJECTILE MOVEMENT TEST WITHOUT NORMALIZATION:
// p.position check WITHOUT NORMALIZATION in projectile_create:
// void	test_ch1_test_tick_updates_position_and_velocity()
// {
// 	t_projectile	p = projectile_create(point(0, 1, 0), vector(1, 1, 0));
// 	t_environment	env = {vector(0, -0.1, 0), vector(-0.01, 0, 0)};

// 	p = tick(env, p);

// 	// printf("p.position :");
// 	// print_tuple(p.position);
// 	// printf("p.velocity :");
// 	// print_tuple(p.velocity);

// 	TEST_ASSERT(tuples_equal(p.position, point(1, 2, 0)), " = p.position, point(1, 2, 0)\n");
// 	TEST_ASSERT(tuples_equal(p.velocity, vector(0.99, 0.9, 0)), " = p.velocity, vector(0.99, 0.9, 0)\n");
// }